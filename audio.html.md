# Audio Processing


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Audio Extraction

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-ffmpeg-utils/blob/main/cjm_ffmpeg_utils/audio.py#L17"
target="_blank" style="float:right; font-size:smaller">source</a>

### extract_audio

>  extract_audio (input_path:pathlib.Path, output_path:pathlib.Path,
>                     audio_format:str='mp3', verbose:bool=False)

*Extract audio from a video file using ffmpeg.*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>input_path</td>
<td>Path</td>
<td></td>
<td>Path to the input video file</td>
</tr>
<tr>
<td>output_path</td>
<td>Path</td>
<td></td>
<td>Path for the output audio file</td>
</tr>
<tr>
<td>audio_format</td>
<td>str</td>
<td>mp3</td>
<td>Output audio format (mp3, wav, flac, aac, etc.)</td>
</tr>
<tr>
<td>verbose</td>
<td>bool</td>
<td>False</td>
<td>If True, shows detailed ffmpeg output</td>
</tr>
</tbody>
</table>

## Audio Downsampling

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-ffmpeg-utils/blob/main/cjm_ffmpeg_utils/audio.py#L66"
target="_blank" style="float:right; font-size:smaller">source</a>

### downsample_audio

>  downsample_audio (input_path:pathlib.Path, output_path:pathlib.Path,
>                        sample_rate:Union[int,str]='16k',
>                        channels:Union[int,str]='1', overwrite:bool=True,
>                        verbose:bool=False)

*Downsample an audio file to 16kbps and single channel using ffmpeg.*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>input_path</td>
<td>Path</td>
<td></td>
<td>Path to the input audio file</td>
</tr>
<tr>
<td>output_path</td>
<td>Path</td>
<td></td>
<td>Path for the output file</td>
</tr>
<tr>
<td>sample_rate</td>
<td>Union</td>
<td>16k</td>
<td>Audio bitrate</td>
</tr>
<tr>
<td>channels</td>
<td>Union</td>
<td>1</td>
<td>Audio channels</td>
</tr>
<tr>
<td>overwrite</td>
<td>bool</td>
<td>True</td>
<td>Overwrite existing output file</td>
</tr>
<tr>
<td>verbose</td>
<td>bool</td>
<td>False</td>
<td>If True, shows detailed ffmpeg output</td>
</tr>
</tbody>
</table>

## Audio Format Conversion

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-ffmpeg-utils/blob/main/cjm_ffmpeg_utils/audio.py#L103"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_to_mp3

>  convert_to_mp3 (input_path:pathlib.Path, output_path:pathlib.Path,
>                      bitrate:str='128k', verbose:bool=False)

*Convert an audio file to MP3 format.*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>input_path</td>
<td>Path</td>
<td></td>
<td>Path to the input audio file</td>
</tr>
<tr>
<td>output_path</td>
<td>Path</td>
<td></td>
<td>Path where the MP3 file will be saved</td>
</tr>
<tr>
<td>bitrate</td>
<td>str</td>
<td>128k</td>
<td>Audio bitrate for the output MP3 file</td>
</tr>
<tr>
<td>verbose</td>
<td>bool</td>
<td>False</td>
<td>Whether to display verbose output during conversion</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>Path</strong></td>
<td></td>
<td><strong>Path to the converted MP3 file</strong></td>
</tr>
</tbody>
</table>

## Audio Segmentation

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-ffmpeg-utils/blob/main/cjm_ffmpeg_utils/audio.py#L136"
target="_blank" style="float:right; font-size:smaller">source</a>

### extract_audio_segment

>  extract_audio_segment (input_path:pathlib.Path, output_path:pathlib.Path,
>                             start_time:str, duration:str, verbose:bool=False,
>                             pbar:bool=False)

*Extract a segment from an audio file.*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>input_path</td>
<td>Path</td>
<td></td>
<td>Path to the input audio file</td>
</tr>
<tr>
<td>output_path</td>
<td>Path</td>
<td></td>
<td>Path where the extracted segment will be saved</td>
</tr>
<tr>
<td>start_time</td>
<td>str</td>
<td></td>
<td>Start time in format “HH:MM:SS” or seconds</td>
</tr>
<tr>
<td>duration</td>
<td>str</td>
<td></td>
<td>Duration in format “HH:MM:SS” or seconds</td>
</tr>
<tr>
<td>verbose</td>
<td>bool</td>
<td>False</td>
<td>Whether to show verbose output</td>
</tr>
<tr>
<td>pbar</td>
<td>bool</td>
<td>False</td>
<td>Whether to show a progress bar</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td><strong>Raises subprocess.CalledProcessError if extraction
fails</strong></td>
</tr>
</tbody>
</table>

## Testing

``` python
from cjm_ffmpeg_utils.core import FFMPEG_AVAILABLE

if FFMPEG_AVAILABLE:
    # Test with a video file
    test_video = Path("alpha_meditation_video.mp4")
    if test_video.exists():
        # Extract audio
        audio_output = test_video.with_suffix(".mp3")
        extract_audio(test_video, audio_output, audio_format="mp3")
        
        # Downsample audio
        downsampled = audio_output.with_stem(f"{audio_output.stem}_downsampled")
        downsample_audio(audio_output, downsampled)
        
        # Extract a segment
        segment = audio_output.with_stem(f"{audio_output.stem}_segment")
        extract_audio_segment(audio_output, segment, "0", "30", pbar=True)
```

    Extracting audio:   0%|          | 0.0/5.0s [00:00<?]


    Successfully extracted audio to MP3 format.

    Downsampling:   0%|          | 0.0/5.0s [00:00<?]


    Successfully downsampled audio.

    Extracting segment:   0%|          | 0.0/30.0s [00:00<?]
